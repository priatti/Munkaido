window.translations = {
    hu: {
        // Általános
        appTitle: "GuriGO",
        delete: "Törlés",
        ok: "Rendben",
        cancel: "Mégse",
        save: "Mentés",
        cityPlaceholder: "Város",
        fromPlaceholder: "Honnan",
        toPlaceholder: "Hova",
        // Fülek és menü
        tabOverview: "Áttekintés",
        tabFullDay: "Teljes nap",
        tabStart: "Indítás",
        tabList: "Lista",
        menuListDesc: "Mentett munkanapok",
        tabPallets: "Raklap",
        menuPalletsDesc: "Raklap egyenleg kezelése",
        menuMore: "Továbbiak",
        menuSummary: "Összesítő",
        menuSummaryDesc: "Napi, heti és havi adatok",
        menuStats: "Statisztika",
        menuStatsDesc: "Részletes, lapozható diagramok",
        menuTachograph: "Tachográf",
        menuTachographDesc: "Vezetési és pihenőidő elemzés",
        menuReport: "Riport",
        menuReportDesc: "Nyomtatható havi elszámolás",
        menuSettings: "Beállítások",
        menuSettingsDesc: "Adatmentés és személyes adatok",
        menuHelp: "Súgó",
        menuHelpDesc: "Használati útmutató és tippek",
        // Live nézet
        liveOverviewTitle: "Áttekintés",
        liveNewDayTitle: "Új munkanap indítása",
        date: "Dátum",
        time: "Idő",
        location: "Hely",
        weeklyDrive: "Heti vezetés",
        startKm: "Kezdő km",
        startWorkday: "Munkanap indítás",
        workdayInProgress: "Munkanap folyamatban",
        startedAt: "Elkezdve",
        newBorderCrossing: "Új Határátlépés",
        getCountryCodeGPS: "Országkód lekérése GPS alapján",
        addBorderCrossing: "Határátlépés hozzáadása",
        finishShift: "Műszak Befejezése",
        discardWorkday: "Munkanap elvetése",
        recordedCrossings: "Rögzített átlépések:",
        dashboardDriveThisWeek: "Vezetés ezen a héten",
        dashboardWorkThisWeek: "Munkaidő ezen a héten",
        dashboardDistanceThisMonth: "Távolság ebben a hónapban",
        dashboardDistanceLastWeek: "Múlt heti távolság",
        liveShiftDetailsTitle: "Műszak adatai",
        liveStartLocationLabel: "Kezdő hely:",
        liveStartDriveLabel: "Kezdő vezetés:",
        liveStartKmLabel: "Kezdő km:",
        // Teljes nap nézet
        fullDayTitle: "Teljes munkanap rögzítése",
        dateLabelFull: "Dátum (a munka befejezésének napja)",
        workTimeAndLocation: "Munkaidő és Helyszín",
        startTime: "Kezdés ideje",
        endTime: "Befejezés ideje",
        compensationLabel: "Kompenzáció / Szünet (levonódik)",
        startLocation: "Kezdés helye",
        endLocation: "Befejezés helye",
        getLocationGPS: "Helyszín lekérése GPS alapján",
        borderCrossings: "Határátlépések",
        addCrossing: "Új átlépés hozzáadása",
        weeklyDriveTimeHours: "Heti vezetési idő (óra)",
        atDayStart: "Nap elején (óó:pp)",
        atDayEnd: "Nap végén (óó:pp)",
        kmReading: "Kilométer állás",
        endKm: "Záró km",
        splitRestQuestion: "Volt 3+ órás egybefüggő pihenő? (Osztott)",
        saveEntry: "Bejegyzés Mentése",
        workTimeDisplay: "Munkaidő",
        nightWorkDisplay: "Éjszakai (20:00-05:00)",
        driveTimeTodayDisplay: "Mai vezetési idő",
        kmDrivenDisplay: "Megtett km",
        // Lista nézet
        listTitle: "Bejegyzések",
        noEntries: "Még nincsenek bejegyzések",
        entryDeparture: "Indulás",
        entryArrival: "Érkezés",
        entryWorkTime: "Munkaidő",
        entryCompensation: "Kompenzáció",
        entryNightTime: "Éjszakai",
        entryDriveTime: "Vezetés",
        entryDistance: "Távolság",
        entryCrossingsLabel: "Határátlépések",
        // Összesítő nézet
        summaryTitle: "Összesítések",
        summaryToday: "Ma",
        summaryYesterday: "Tegnap",
        summaryThisWeek: "Aktuális hét",
        summaryLastWeek: "Múlt hét",
        summaryThisMonth: "Aktuális hónap",
        summaryLastMonth: "Előző hónap",
        summaryDays: "nap",
        summaryWork: "Munka",
        summaryNight: "Éjszakai",
        summaryDrive: "Vezetés",
        summaryDistance: "Táv",
        summaryNoData: "Nincs adat",
        // Statisztika nézet
        statsTitle: "Részletes Statisztikák",
        statsDaily: "Napi",
        statsMonthly: "Havi",
        statsYearly: "Éves",
        statsWorkTime: "Munkaidő",
        statsDriveTime: "Vezetési idő",
        statsNightTime: "Éjszakai munka",
        statsKmDriven: "Megtett kilométer",
        statsNoDataPeriod: "Nincs adat a kiválasztott időszakban.",
        chartMonths: ['Jan', 'Feb', 'Már', 'Ápr', 'Máj', 'Jún', 'Júl', 'Aug', 'Szep', 'Okt', 'Nov', 'Dec'],
        // Riport nézet
        reportTitle: "Havi riport",
        reportMonthSelect: "Hónap kiválasztása",
        reportGenerate: "Riport generálása",
        reportDownloadPDF: "PDF letöltés",
        reportSharePDF: "PDF megosztása",
        reportReady: 'A riport elkészült!',
        reportUseButtons: 'A letöltéshez vagy megosztáshoz használd a fenti gombokat.',
        reportPrepared: "Riport előkészítve.",
        palletReportGenerate: "Raklap riport generálása",
        
        // VIP
        vipFeatureTitle: "Ez egy VIP funkció",
        vipFeatureDesc: "A demó adatokkal megtekintheted, hogyan működik. A saját adataiddal való elemzéshez válts VIP csomagra!",
        upgradeButton: "Tovább a VIP csomaghoz",
// Beállítások
        settingsTitle: "Beállítások és Adatkezelés",
        settingsSyncTitle: "Felhő Szinkronizáció",
        settingsSyncDesc: "Jelentkezz be a Google fiókoddal, hogy az adataidat a felhőbe mentsd és több eszközön is elérd.",
        settingsLoginGoogle: "Bejelentkezés Google-fiókkal",
        settingsLoggedInAs: "Bejelentkezve mint:",
        settingsLogout: "Kijelentkezés",
        settingsPersonalData: "Személyes adatok",
        settingsNameForReports: "Név (riportokhoz)",
        settingsNamePlaceholder: "Vezetéknév Keresztnév",
        settingsSaveData: "Adatok mentése",
        settingsAppearance: "Megjelenés",
        settingsLanguage: "Nyelv",
        settingsThemeSelect: "Válassz témát",
        settingsTheme: "Téma",
        settingsThemeAuto: "Automatikus",
        settingsThemeLight: "Nappali",
        settingsThemeDark: "Éjszakai",
        settingsSpecialFunctions: "Speciális funkciók",
        settingsFeatureKm: "Kilométer Nyilvántartás",
        settingsFeatureDriveTime: "Vezetési Idő Nyilvántartás",
        settingsFeaturePallets: "Raklap Nyilvántartás",
        settingsFeatureCompensation: "Szünet/Kompenzáció Levonása",
        settingsExportTitle: "Adatok exportálása (Backup)",
        settingsExportDesc: "Mentsd le az összes bejegyzésedet egy JSON fájlba.",
        settingsAutoExportFreq: "Automatikus mentés gyakorisága:",
        settingsFreqNever: "Soha",
        settingsFreqDaily: "Naponta",
        settingsFreqWeekly: "Hetente",
        settingsFreqMonthly: "Havonta",
        settingsAutoExportDesc: "Az alkalmazás indításakor ellenőrzi, hogy esedékes-e a mentés.",
        settingsDownloadData: "Adatok letöltése",
        settingsImportTitle: "Adatok importálása",
        settingsImportDesc: "Tölts vissza egy korábban lementett adatfájlt. Figyelem: ez felülírja a jelenlegi adatokat!",
        settingsUploadData: "Adatok visszöltése",
        settingsAboutCreator: "Készítette: Princz Attila",
        slogan: "Egy kamionos, aki appot készít.",
        settingsVersion: "Verzió:",
        settingsInstallAppTitle: "Alkalmazás Telepítése",
        settingsInstallAppDesc: "Telepítse az alkalmazást a kezdőképernyőjére a gyorsabb elérés és az offline használat érdekében.",
        settingsInstallButton: "Telepítés",
        developerIntroTitle: "Egy sofőrtől a többi sofőrnek",
        developerIntroBody: "Szia! Princz Attila vagyok, és hozzád hasonlóan én is kamionsofőrként dolgozom.<br><br>Évekig használtam a füzetet és különféle, nem igazán felhasználóbarát alkalmazásokat a munkaidőm és a raklapjaim követésére. Tudtam, hogy létezik egy egyszerűbb, gyorsabb és megbízhatóbb módszer.<br><br>Ezért hoztam létre a Munkaidő Nyilvántartó Pro-t: egy olyan eszközt, ami a valós, mindennapi problémáinkra nyújt megoldást, felesleges bonyolítások nélkül. Minden funkciót – a hétvégi átforduló műszak kezelésétől a tachográf-elemzőig – a saját és a kollégáim tapasztalatai alapján fejlesztettem.<br><br>Remélem, neked is annyi időt és fejfájást spórol meg, mint nekem.<br><br>Biztonságos utat!",
        // Tachográf
        tachoTitle: "Tachográf Elemzés",
        tachoAllowanceDrive10h: "Fennmaradó 10 órás vezetés",
        tachoAllowanceReducedRest: "Fennmaradó csökk. pihenő",
        tachoCompensation: "Kompenzáció",
        tachoWeeklyRest: "Heti pihenő",
        tachoReducedWeeklyRest: "Csökkentett heti pihenő",
        tachoLongRest: "Hosszú pihenő",
        tachoIrregularRest: "Szabálytalan pihenő",
        tachoSplitRest: "Osztott pihenő",
        tachoRegularDailyRest: "Rendes napi pihenő",
        tachoReducedDailyRest: "csökkentett napi pihenő",
        tachoReason13h: "(13ó+ munka miatt)",
        tachoIrregularDrive: "Szabálytalan vezetés",
        tachoIncreasedDrive: "megnövelt vezetés",
        tachoNormalDrive: "Normál napi vezetés",
        tachoRestBeforeShift: "Műszak előtti pihenő",
        tachoDailyDriveTime: "Napi vezetési idő",
        tachoNoDriveTime: "Nincs vezetés rögzítve",
        tachoInProgress: "Folyamatban...",
        earliestStartTitle: "Legkorábbi indulás",
        latestRestStartTitle: "Legkésőbbi pihenő kezdés",
        with9hRest: "9 órás pihenővel",
        with11hRest: "11 órás pihenővel",
        reducedLabel: "(csökkentett):",
        regularLabel: "(rendes):",
        with11hRestLatest: "11 órás pihenőhöz (rendes):",
        with9hRestLatest: "9 órás pihenőhöz (csökkentett):",
        noMoreReducedRests: "Nincs több csökkentett pihenőd.",
        noMoreReducedRestsWarning: "Nincs több csökkentett pihenőd ebben a ciklusban!",
        earliestStartWarning: "Figyelem: A kalkuláció a napi pihenőidővel számol, a heti pihenőidőt nem veszi figyelembe.",
        tachoDevWarning: "A tachográf funkciók kísérleti fázisban vannak. Ha hibát találsz, kérlek jelezd!",
        tachoWeeklyStatus: "Heti Státusz",
        tachoDriveThisWeek: "Vezetés (ezen a héten)",
        tachoDriveTwoWeeks: "Két heti vezetési idő",
        tachoNextWeeklyRestDue: "Következő heti pihenő esedékes:",
        tachoHourUnit: "ó",
        tachoDeadlineExpired: "Lejárt!",
        tachoRelativeTime: "({days} nap {hours} óra múlva)",
        // Raklapok
        palletsTitle: "Paletta Nyilvántartás",
        palletsBalance: "Aktuális egyenleg:",
        palletsNewTransaction: "Új tranzakció",
        palletsLocationPlaceholder: "Város, cég...",
        palletsLicensePlate: "Rendszám (opcionális)",
        palletsLicensePlatePlaceholder: "Pl. SAU-317",
        palletsLicensePlateLabel: "Rendszám",
        palletsSaveTransaction: "Tranzakció mentése",
        palletsHistory: "Előzmények",
        palletsNoTransactions: "Még nincsenek paletta tranzakciók rögzítve.",
        palletsGivenLabel: "Leadott 🚛➡️",
        palletsTakenLabel: "Felvett 🚛⬅️",
        palletsTypeLabel: "Típus / Megjegyzés",
        palletsTypePlaceholder: "Pl. EUR, DD, CHEP...",
        pallets1to1Button: "1:1",
        palletReportHeaderDate: "Dátum",
        palletReportHeaderLocation: "Helyszín",
        palletReportHeaderGiven: "Leadott",
        palletReportHeaderTaken: "Felvett",
        palletReportHeaderType: "Típus",
        palletReportHeaderPlate: "Rendszám",
        palletReportHeaderBalance: "Egyenleg",
        palletReportFileName: "Raklap_Riport",
        palletReportTitle: "Raklapmozgás Riport",
        palletSettingsTitle: "📦 Raklap Beállítások",
        // Raklap beállítások
        toggleMultiPallet: "Több raklaptípus kezelése",
        multiPalletDesc: "Kapcsold be, ha az EUR mellett más típusokat is szeretnél nyilvántartani (pl. DD, CHEP).",
        addPalletType: "Hozzáadás",
        newPalletTypeLabel: "Egyedi raklaptípusok",
        newPalletTypePlaceholder: "Pl. DD, CHEP...",
        palletTypeName: "Típusnév",
        deletePalletTypeConfirm: "Biztosan törölni szeretnéd a(z) \"{type}\" típust?",
        palletTypeExists: "Ez a típus már létezik!",
        palletTypeNameEmpty: "A típusnév nem lehet üres!",
        // Üzenetek
        alertShareInAppBrowser: "A megosztás Messenger/Facebook böngészőben nem támogatott. A sikeres megosztáshoz, kérlek, nyisd meg a linket a telefonod rendes böngészőjében (pl. Chrome, Safari)!",
        alertConfirmReducedRest: "Figyelem: a pihenőidőd kevesebb, mint 11 óra volt. Ez csökkentett napi pihenőnek számít, és fel fog használni egyet a heti 3 keretből. Biztosan elindítod a műszakot?",
        alertRolloverTitle: "Áthúzódó műszak",
        alertRolloverPrompt: "Észleltük, hogy a műszakod a hétvégén áthúzódott (vasárnapi indulás, hétfői érkezés). Kérjük, add meg a műszak <strong>teljes vezetési idejét</strong> a tachográf alapján:",
        alertRolloverPlaceholder: "Vezetési idő (óó:pp)",
        alertLoginError: "Bejelentkezési hiba történt.",
        alertPopupClosed: "A bejelentkezési ablakot bezárta.",
        alertPopupBlocked: "A böngésző blokkolta a felugró ablakot. Kérjük, engedélyezze.",
        alertDataLoadError: "Hiba az adatok letöltésekor.",
        alertSaveToCloudError: "Hiba a felhőbe mentéskor.",
        alertMandatoryFields: "A dátum és a munkaidő megadása kötelező!",
        alertKmEndLower: "Hiba: A záró kilométer nem lehet kevesebb, mint a kezdő!",
        alertWeeklyDriveEndLower: "Hiba: A heti vezetési idő a nap végén nem lehet kevesebb, mint a nap elején!",
        alertConfirmZeroValues: "A vezetési idő vagy a megtett kilométer 0. Biztosan így szeretnéd menteni?",
        alertSaveSuccess: "Bejegyzés sikeresen mentve!",
        alertGeolocationNotSupported: "A böngésződ nem támogatja a helymeghatározást.",
        alertConfirmDelete: "Biztosan törölni szeretnéd?",
        alertFillAllFields: "Kérlek tölts ki minden mezőt!",
        alertNoDataToExport: "Nincsenek adatok az exportáláshoz!",
        alertChooseFile: "Kérlek válassz egy fájlt!",
        alertConfirmImport: "Biztosan importálod? A jelenlegi adatok felülíródnak!",
        alertImportSuccess: "Adatok sikeresen importálva!",
        alertImportInvalid: "Érvénytelen fájlformátum.",
        alertLocationFailed: "Helyszín lekérése sikertelen.",
        alertShareNotSupported: "A böngésződ nem támogatja ezt a funkciót.",
        alertGenerateReportFirst: "Először generálj riportot a megosztáshoz!",
        alertReportNameMissing: "A riport generálásához kérlek, add meg a nevedet a Beállítások menüben!",
        palletSaveSuccess: "Tranzakció mentve!",
        palletInvalidData: "Kérlek add meg a helyszínt és legalább az egyik mennyiséget!",
        alertNoPalletData: "Nincs raklapmozgás, amiből riportot lehetne készíteni.",
        autoBackupOn: "Automatikus mentés bekapcsolva!",
        autoBackupOff: "Automatikus mentés kikapcsolva.",
        settingsSaved: "Beállítások mentve!",
        logRecalculatingNightWork: 'Éjszakai idők újraszámítása a 20:00-05:00 szabály szerint...',
        logEntriesUpdated: 'bejegyzés frissítve.',
        logAutoExportStarted: 'Automatikus mentés elindítva...',
        errorPdfGeneration: 'Hiba történt a PDF generálása közben:',
        errorSharing: 'Hiba a megosztás során:',
        shareAborted: 'Megosztás megszakítva.',
        errorImport: 'Hiba:',
        shareErrorCannotShare: 'Ezt a fájlt nem lehet megosztani.',
        finalizeShiftTitle: "Műszak befejezése",
        finalizeShiftDesc: "Add meg a befejezési adatokat",
        finalizeEndTimeLabel: "Befejezés ideje",
        finalizeEndLocationLabel: "Befejezés helye",
        finalizeWeeklyDriveEndLabel: "Heti vezetés vége",
        finalizeKmEndLabel: "Záró km",
        finalizeButton: "Befejezés",
        palletEditSuccess: "Tranzakció sikeresen módosítva!",
        // Súgó
        helpTitle: "Súgó és Gyakori Kérdések",
        helpSectionRecording: "Munkanap rögzítése",
        helpRecordingIntro: "Két fő módja van a munkanapok rögzítésének:",
        helpRecordingLiveTitle: "Élő indítás ('Indítás' fül)",
        helpRecordingLiveDesc: "Használd ezt, amikor elkezded a műszakot. Az app rögzíti a kezdési adatokat, és a nap végén a 'Műszak befejezése' gombra kattintva csak a záró adatokat kell megadnod.",
        helpRecordingFullTitle: "Utólagos rögzítés ('Teljes nap' fül)",
        helpRecordingFullDesc: "Ezzel utólag, egyben is felviheted a teljes munkanapot, ha például elfelejtetted időben elindítani.",
        helpSectionUsingApp: "A program használata",
        helpContactTitle: "Kapcsolat és visszajelzés",
        helpContactBody: "Kérdés, hiba vagy ötlet esetén írj nekem:",
        helpListTitle: "Lista nézet",
        helpListDesc: "A 'Lista' menüpontban láthatod az összes mentett munkanapodat, időrendben visszafelé. A ceruza (✏️) ikonnal szerkesztheted, a kuka (🗑️) ikonnal pedig törölheted a bejegyzéseket.",
        helpReportTitle: "Riportok és export",
        helpReportDesc: "A 'Riport' menüpontban nyomtatható, hivatalos formátumú havi elszámolást generálhatsz. A 'Beállítások' -> 'Adatok exportálása' menüpontban pedig a teljes adatbázisodat lementheted biztonsági mentésként.",
        helpSectionPWA: "Telepítés (PWA)",
        helpPwaBenefitsTitle: "Miért érdemes telepíteni?",
        helpPwaBenefitsDesc: `<li>Gyorsabb elérés: Ikonként megjelenik a telefonod főképernyőjén, mint egy normál alkalmazás.</li><li>Offline működés: Internetkapcsolat nélkül is tudsz új napokat rögzíteni, amik automatikusan szinkronizálódnak, amint újra online leszel.</li><li>Jobb teljesítmény: Gyorsabban indul és működik, mint a böngészőben megnyitott verzió.</li>`,
        helpPwaInstallTitle: "Hogyan telepítsem?",
        helpPwaInstallDesc: `<li>A 'Beállítások' menüben, az 'Alkalmazás Telepítése' kártyánál kattints a 'Telepítés' gombra.</li><li>Ha ez nem jelenik meg, a böngésződ menüjében (általában a három pont) keresd az 'Alkalmazás telepítése' vagy 'Hozzáadás a kezdőképernyőhöz' opciót.</li>`,
        helpPwaInstallIOSTitle: "iOS (iPhone/iPad) telepítés",
        helpPwaInstallIOSDesc: `<li>Nyisd meg a Safarit és lépj az alkalmazás oldalára: <strong>GuriGO</strong>.</li><li>Koppints a <em>Megosztás</em> ikonra (négyzet felfelé mutató nyíllal).</li><li>Válaszd a <em>Hozzáadás a kezdőképernyőhöz</em> opciót.</li><li>Erősítsd meg a nevet/ikont, majd <em>Hozzáadás</em>.</li><li>Ezután a Kezdőképernyőn <strong>GuriGO</strong> néven találod az appot és onnan indíthatod.</li>`,
        // PWA install success modal
        pwaInstalledTitle: "Telepítés sikeres!",
        pwaInstalledBody: "Az alkalmazást a Kezdőképernyőn találod GuriGO néven. iOS-en a Safari bezárása után nyisd meg onnan.",
        pwaOpenButton: "Megnyitás",
        helpSectionConcepts: "Fontos fogalmak",
        helpConceptDriveTime: "Heti vezetési idő",
        helpConceptDriveTimeDesc: "A program a megadott kezdő és záró értékek alapján számolja a napi vezetési időt. Ez az érték hozzáadódik a heti összesítéshez, amit a 'Tachográf' és 'Összesítő' menükben követhetsz.",
        helpRolloverTitle: "Áthúzódó (hétvégi) műszak",
        helpRolloverDesc: "Ha egy műszakod vasárnap kezdődik és hétfőn ér véget, a program ezt érzékeli, és a mentéskor külön rákérdez a teljes vezetési időre, hogy a heti óraszámok pontosak maradjanak.",
        helpSectionTips: "Hasznos tippek",
        helpTipTimeEntry: "Gyors időpont bevitel",
        helpTipTimeEntryDesc: "Az időpontokat nem csak a kis órára kattintva adhatod meg. Elég beírnod a számokat, pl. '0830' a 08:30-hoz, és a program automatikusan átformázza.",
        helpTipGps: "GPS alapú helymeghatározás",
        helpTipGpsDesc: "A helyszín mezők melletti (📍) ikonra kattintva a program megpróbálja a telefonod GPS-e alapján automatikusan kitölteni a várost vagy országkódot:",
        helpTipGpsLocation: "A 'Teljes nap' űrlapon a várost írja be.",
        helpTipGpsCrossing: "Az élő műszaknál a határátlépés 'Hova' mezőjébe az országkódot (pl. 'D', 'A', 'H') illeszti be.",
        helpTipWeeklyDriveTitle: "Tipp – Heti vezetési idő ellenőrzése",
        helpTipWeeklyDriveDesc: "Az Áttekintés oldalon látható heti vezetési idő a tachográfban szereplő adatokkal is összevethető. A tachográf által mutatott két heti vezetési idő segítségével könnyen ellenőrizheted, hogy a GuriGO számításai megfelelnek-e a valós értékeknek. Ha eltérés van, érdemes átnézni, hogy minden műszak pontosan rögzítve van-e, illetve nem maradt-e ki egy nap vagy bejegyzés.",
        helpSectionSpecial: "Speciális Tachográf funkciók",
        helpSpecialStartCalc: "Legkorábbi indulás számítása",
        helpSpecialStartCalcDesc: "Amikor nincs aktív műszakod, az 'Áttekintés' fülön a program kiszámolja, mikor indulhatsz legközelebb, figyelembe véve a 9 és 11 órás napi pihenőidőket.",
        helpSpecialWarning: "Figyelem: Ez a kalkuláció csak a napi pihenőidőt veszi alapul, a heti pihenőidőt nem. Mindig a tachográf adatait tekintsd elsődlegesnek!",
        helpSpecialLatestRest: "Legkésőbbi pihenő kezdés",
        helpSpecialLatestRestDesc: "Amikor aktív műszakod van, az 'Áttekintés' fülön a program kiszámolja, legkésőbb meddig kell megkezdened a következő pihenődet, hogy ne lépd túl a 24 órás munkaidő-keretet.",
        helpSectionData: "Adatkezelés és biztonság",
    },
    de: {
        // Általános
        appTitle: "GuriGO",
        delete: "Löschen",
// ...
        helpPwaInstallTitle: "Wie installiere ich es?",
        helpPwaInstallDesc: "<li>Im Menü 'Einstellungen' auf der Karte 'App installieren' die Schaltfläche 'Installieren' drücken.</li><li>Falls dies nicht angezeigt wird, suchen Sie im Browsermenü (meist die drei Punkte) nach 'App installieren' oder 'Zum Startbildschirm hinzufügen'.</li>",
        helpPwaInstallIOSTitle: "iOS (iPhone/iPad) Installation",
        helpPwaInstallIOSDesc: `<li>Öffnen Sie Safari und rufen Sie die App-Seite auf: <strong>GuriGO</strong>.</li><li>Tippen Sie auf das <em>Teilen</em>-Symbol (Quadrat mit Pfeil nach oben).</li><li>Wählen Sie <em>Zum Home-Bildschirm</em>.</li><li>Bestätigen Sie Name/Icon und tippen Sie auf <em>Hinzufügen</em>.</li><li>Die App finden Sie anschließend als <strong>GuriGO</strong> auf dem Home-Bildschirm.</li>`,
        // PWA install success modal
        pwaInstalledTitle: "Installation erfolgreich!",
        pwaInstalledBody: "Sie finden die App auf dem Home-Bildschirm unter dem Namen GuriGO. Unter iOS öffnen Sie sie nach dem Schließen von Safari von dort.",
        pwaOpenButton: "Öffnen",
// ...
        helpTipTimeEntry: "Schnelle Zeiteingabe",
        helpTipTimeEntryDesc: "Sie können Zeiten nicht nur durch Klicken auf die kleine Uhr eingeben. Geben Sie einfach die Zahlen ein, z.B. '0830' für 08:30, und das Programm formatiert es automatisch.",
        helpTipGps: "GPS-basierte Standortermittlung",
        helpTipGpsDesc: "Durch Klicken auf das (📍)-Symbol neben den Standortfeldern versucht das Programm, die Stadt oder den Ländercode automatisch mithilfe des GPS Ihres Telefons auszufüllen:",
        helpTipGpsLocation: "Im 'Ganzer Tag'-Formular wird die Stadt eingetragen.",
        helpTipGpsCrossing: "Bei der Live-Schicht wird der Ländercode (z.B. 'D', 'A', 'H') in das 'Nach'-Feld des Grenzübergangs eingefügt.",
        helpTipWeeklyDriveTitle: "Tipp – Wöchentliche Lenkzeit prüfen",
        helpTipWeeklyDriveDesc: "Die auf der Übersicht angezeigte wöchentliche Lenkzeit lässt sich mit den Daten im Tachographen abgleichen. Mit der vom Tachographen gezeigten zweiwöchigen Lenkzeit kannst du leicht prüfen, ob die Berechnungen von GuriGO den realen Werten entsprechen. Bei Abweichungen prüfe bitte, ob alle Schichten korrekt erfasst wurden und kein Tag oder Eintrag fehlt.",
        helpSectionSpecial: "Spezielle Tachograph-Funktionen",
        helpSpecialStartCalc: "Frühesten Start berechnen",
        helpSpecialStartCalcDesc: "Wenn keine Schicht aktiv ist, berechnet das Programm im Tab 'Übersicht', wann Sie als Nächstes starten können, unter Berücksichtigung der täglichen Ruhezeiten von 9 und 11 Stunden.",
        helpSpecialWarning: "Achtung: Diese Berechnung basiert nur auf der täglichen Ruhezeit, nicht auf der wöchentlichen. Betrachten Sie immer die Daten des Fahrtenschreibers als primär!",
        helpSpecialLatestRest: "Spätester Ruhezeitbeginn",
        helpSpecialLatestRestDesc: "Wenn eine Schicht aktiv ist, berechnet das Programm im Tab 'Übersicht', bis wann Sie spätestens Ihre nächste Ruhezeit beginnen müssen, um den 24-Stunden-Arbeitszeitrahmen nicht zu überschreiten.",
        helpSectionData: "Datenverwaltung und Sicherheit",
        helpDataExport: "Daten exportieren (Backup)",
        helpDataExportDesc: "Sichern Sie Ihre Daten regelmäßig über das Menü 'Einstellungen'! Dies ist eine einfache Datei, die Sie für sich selbst speichern und auf einem neuen Telefon oder nach dem Löschen der Browserdaten wiederherstellen können.",
        helpDataSync: "Cloud-Synchronisation",
        helpDataSyncDesc: "Wenn Sie sich mit Ihrem Google-Konto anmelden, werden alle Ihre Daten automatisch und sofort in der Cloud gespeichert. So sind Ihre Daten auf mehreren Geräten verfügbar und sicher."
    }
};

// JAVÍTÁS: currentLang inicializálása itt történik, AZONNAL a translations betöltése után
let currentLang = localStorage.getItem('language') || (navigator.language.startsWith('de') ? 'de' : 'hu');

// BIZTONSÁGI ELLENŐRZÉS: Ha a currentLang még mindig undefined lenne
if (typeof currentLang === 'undefined' || !currentLang) {
    currentLang = 'hu'; // alapértelmezett magyar
}

function setLanguage(lang) {
    if (['hu', 'de'].includes(lang)) {
        currentLang = lang;
        localStorage.setItem('language', lang);
        document.documentElement.lang = lang;
        updateAllTexts();
        uploadLocalSettings();
    }
}

function updateAllTexts() {
    const i18n = translations[currentLang];
    document.querySelectorAll('[data-translate-key]').forEach(el => {
        const key = el.dataset.translateKey;
        const translation = i18n[key];
        
        if (translation !== undefined) {
            if (el.placeholder) {
                el.placeholder = translation;
            } else if (el.title && (el.tagName === 'BUTTON' || el.tagName === 'A')) {
                el.title = translation;
            } else {
                el.innerHTML = translation;
            }
        }
    });

    document.title = i18n.appTitle;
    updateLanguageButtonStyles();
    
    
}

function updateLanguageButtonStyles() {
    const selector = document.getElementById('languageSelector');
    if (selector) {
        const buttons = selector.querySelectorAll('button');
        buttons.forEach(btn => {
            btn.classList.remove('bg-blue-100', 'border-blue-500', 'font-bold');
            if ((currentLang === 'hu' && btn.innerText.includes('Magyar')) || (currentLang === 'de' && btn.innerText.includes('Deutsch'))) {
                btn.classList.add('bg-blue-100', 'border-blue-500', 'font-bold');
            }
        });
    }
}

// GLOBÁLIS HOZZÁFÉRHETŐSÉG BIZTOSÍTÁSA
window.currentLang = currentLang;
window.setLanguage = setLanguage;
window.updateAllTexts = updateAllTexts;
window.updateLanguageButtonStyles = updateLanguageButtonStyles;